{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./PlayVideo.css';import like from'../../assets/like.png';import dislike from'../../assets/dislike.png';import share from'../../assets/share.png';import save from'../../assets/save.png';import{API_KEY,value_converter}from'../../data';import moment from'moment/moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PlayVideo=_ref=>{let{videoId,categoryId}=_ref;const[apiData,setApiData]=useState(null);const[channelData,setChannelData]=useState(null);const[commentData,setCommentData]=useState([]);const fetchVideoData=async()=>{//fetching videos data \nconst videoDetailsUrl=\"https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=\".concat(videoId,\"&key=\").concat(API_KEY);await fetch(videoDetailsUrl).then(response=>response.json()).then(data=>setApiData(data.items[0]));};const fetchOtherData=async()=>{//fetching channel data \nconst channelDataUrl=\"https://youtube.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics&id=\".concat(apiData.snippet.channelId,\"&key=\").concat(API_KEY);await fetch(channelDataUrl).then(response=>response.json()).then(data=>setChannelData(data.items[0]));//fetching comment data \nconst commentUrl=\"https://youtube.googleapis.com/youtube/v3/commentThreads?part=snippet%2Creplies&videoId=\".concat(videoId,\"&key=\").concat(API_KEY);await fetch(commentUrl).then(res=>res.json()).then(data=>setCommentData(data.items));};useEffect(()=>{fetchVideoData();},[]);useEffect(()=>{fetchOtherData();},[apiData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"play-video\",children:[/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.youtube.com/embed/\".concat(videoId,\"?autoplay=1\"),frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",allowfullscreen:true}),/*#__PURE__*/_jsx(\"h3\",{children:apiData?apiData.snippet.title:\"Title Here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"play-video-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[apiData?value_converter(apiData.statistics.viewCount):\"16k\",\" Views \\u2022 \",apiData?moment(apiData.snippet.publishedAt).fromNow():\"\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:like}),apiData?value_converter(apiData.statistics.likeCount):155]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:dislike})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:share}),\"Share\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:save}),\"Save\"]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"publisher\",children:[/*#__PURE__*/_jsx(\"img\",{src:channelData?value_converter(channelData.snippet.thumbnails.default.url):\"\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:apiData?apiData.snippet.channelTitle:\"\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",channelData?value_converter(channelData.statistics.subscriberCount):\"1M\",\" Subscribers\"]})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Subscribe\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vid-description\",children:[/*#__PURE__*/_jsx(\"p\",{children:apiData?apiData.snippet.description.slice(0,250):\"Description Here\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",apiData?value_converter(apiData.statistics.commentCount):130,\" Comments\"]}),commentData.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.snippet.topLevelComment.snippet.authorProfileImageUrl,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[item.snippet.topLevelComment.snippet.authorDisplayName,/*#__PURE__*/_jsx(\"span\",{children:moment(item.snippet.topLevelComment.snippet.publishedAt).fromNow()})]}),/*#__PURE__*/_jsx(\"p\",{children:item.snippet.topLevelComment.snippet.textDisplay}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-action\",children:[/*#__PURE__*/_jsx(\"img\",{src:like}),/*#__PURE__*/_jsx(\"span\",{children:item.snippet.topLevelComment.snippet.likeCount}),/*#__PURE__*/_jsx(\"img\",{src:dislike,alt:\"\"})]})]})]},index);})]})]});};export default PlayVideo;","map":{"version":3,"names":["React","useEffect","useState","like","dislike","share","save","API_KEY","value_converter","moment","jsx","_jsx","jsxs","_jsxs","PlayVideo","_ref","videoId","categoryId","apiData","setApiData","channelData","setChannelData","commentData","setCommentData","fetchVideoData","videoDetailsUrl","concat","fetch","then","response","json","data","items","fetchOtherData","channelDataUrl","snippet","channelId","commentUrl","res","className","children","src","frameborder","allow","allowfullscreen","title","statistics","viewCount","publishedAt","fromNow","likeCount","thumbnails","default","url","alt","channelTitle","subscriberCount","description","slice","commentCount","map","item","index","topLevelComment","authorProfileImageUrl","authorDisplayName","textDisplay"],"sources":["C:/Users/sivali/OneDrive/Desktop/Youtube Clone React/vidtube/src/Components/PlayVideo/PlayVideo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'; \r\nimport './PlayVideo.css' ;  \r\nimport like from '../../assets/like.png'\r\nimport dislike from '../../assets/dislike.png'\r\nimport share from '../../assets/share.png'\r\nimport save from '../../assets/save.png' \r\nimport { API_KEY, value_converter } from '../../data';\r\nimport moment from 'moment/moment'; \r\n  \r\n\r\n\r\nconst PlayVideo = ({videoId , categoryId})=> { \r\n \r\n    const [apiData , setApiData] = useState(null)  \r\n    const [channelData , setChannelData] = useState(null) ;  \r\n    const [commentData, setCommentData] = useState([]);\r\n\r\n    const fetchVideoData =async()=> {\r\n       //fetching videos data \r\n       const videoDetailsUrl = `https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=${videoId}&key=${API_KEY}`  \r\n\r\n       await fetch(videoDetailsUrl).then((response)=>response.json()).then((data)=>setApiData(data.items[0])) \r\n    }  \r\n\r\n    const fetchOtherData = async()=> {\r\n       //fetching channel data \r\n       const channelDataUrl = `https://youtube.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics&id=${apiData.snippet.channelId}&key=${API_KEY}` \r\n\r\n       await fetch(channelDataUrl).then((response)=>response.json()).then((data)=>setChannelData(data.items[0]))   \r\n\r\n\r\n       //fetching comment data \r\n       const commentUrl = `https://youtube.googleapis.com/youtube/v3/commentThreads?part=snippet%2Creplies&videoId=${videoId}&key=${API_KEY}` \r\n       await fetch(commentUrl).then((res)=>res.json()).then((data)=>setCommentData(data.items)) \r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchVideoData() \r\n    } , []) \r\n\r\n\r\n    useEffect(()=>{\r\n        fetchOtherData() \r\n    } , [apiData])\r\n\r\n  return (\r\n    <div className='play-video'>\r\n      {/*  <video src= {video1} controls autoPlay muted></video> */}  \r\n      <iframe  src={`https://www.youtube.com/embed/${videoId}?autoplay=1`}   frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>\r\n       <h3>{apiData?apiData.snippet.title:\"Title Here\"}</h3> \r\n       <div className='play-video-info'>\r\n        <p>{apiData?value_converter(apiData.statistics.viewCount):\"16k\"} Views &bull; {apiData?moment(apiData.snippet.publishedAt).fromNow() : \"\"}</p>  \r\n        <div>\r\n            <span><img src= {like}/>{apiData ? value_converter(apiData.statistics.likeCount):155}</span> \r\n            <span><img src= {dislike}/></span> \r\n            <span><img src= {share}/>Share</span> \r\n            <span><img src= {save}/>Save</span>\r\n        </div>\r\n       </div> \r\n       <hr/>  \r\n       <div className='publisher'>\r\n          <img src={channelData?value_converter(channelData.snippet.thumbnails.default.url):\"\"} alt=''/> \r\n          <div>\r\n            <p>{apiData?apiData.snippet.channelTitle:\"\"}</p>\r\n            <span> {channelData?value_converter(channelData.statistics.subscriberCount):\"1M\"} Subscribers</span>\r\n          </div> \r\n          <button>Subscribe</button>\r\n       </div> \r\n       <div className='vid-description'>\r\n          <p>{apiData ? apiData.snippet.description.slice(0,250) :\"Description Here\"}</p>\r\n        <hr/> \r\n        <h4> {apiData?value_converter(apiData.statistics.commentCount):130} Comments</h4>   \r\n        {commentData.map((item,index)=>{\r\n            return (\r\n                <div key={index} className='comment'>\r\n            <img src={item.snippet.topLevelComment.snippet.authorProfileImageUrl} alt=''/> \r\n            <div>\r\n                <h3>{item.snippet.topLevelComment.snippet.authorDisplayName}<span>{moment(item.snippet.topLevelComment.snippet.publishedAt).fromNow()}</span></h3> \r\n                <p>{item.snippet.topLevelComment.snippet.textDisplay}</p> \r\n                <div className='comment-action'>\r\n                    <img src= {like}/>\r\n                    <span>{item.snippet.topLevelComment.snippet.likeCount}</span>\r\n                    <img src={dislike} alt=''/> \r\n                \r\n                </div>\r\n            </div>\r\n        </div> \r\n            )\r\n        })}\r\n        \r\n\r\n        \r\n\r\n\r\n\r\n        \r\n       </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayVideo"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}